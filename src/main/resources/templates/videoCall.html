<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html" lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Style.css -->
    <link th:href="@{/css/videoCall.css}" rel="stylesheet"/>
    <!-- Latest compiled and minified CSS -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />
    <!-- Jquery Link -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Font Awesome Icons Library -->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
            integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    />
    <title>Agora One-to-One Video Call</title>
    <script src="https://kit.fontawesome.com/bb00e45793.js" crossorigin="anonymous"></script>
</head>
<div class="body-container">
<body>
<div class="container2">
    <header>
        <div class="txt">
            <h1 class="logo">ECHO</h1>
            <div class="information">

                <a th:href="@{/}" class="hdr header-head">
                    <p class="fa-solid fa-circle-info"></p>
                    <p class="hdr header-info"> Main</p>
                </a>

                <a th:href="@{/posts}" class="hdr header-head">
                    <p class="fa-solid fa-house"></p>
                    <p class="hdr header-info"> Posts</p>
                </a>

                <a th:href="@{/search}" class="hdr header-head">
                    <p class="fa-solid fa-magnifying-glass"></p>
                    <p class="hdr header-info"> Search</p>
                </a>

                <a th:href="@{/chat}" class="hdr header-head">
                    <p class="fa-regular fa-comment-dots"></p>
                    <p class="hdr header-info"> Messages</p>
                </a>

            </div>
            <div class="but" id="but">
                <a th:href="@{/users/userProfile}" th:text="${user.login}" class="author"></a>
            </div>

        </div>

    </header>
</div>
<div class="d-flex justify-content-center w-100 p-2 camera container">
    <div class="p-2 rounded shadow-lg position-relative camera video-box">
        <div
                id="local"
                class="d-flex p-1 justify-content-center rounded position-absolute local shadow-lg"
        ></div>
        <div
                id="remote"
                class="d-flex p-1 justify-content-center rounded remote shaow-lg"
        ></div>
        <div class="d-flex justify-content-center">
            <i class="fa fa-video-camera" id="btnCam" aria-hidden="true " style="color: #fff"></i>
            <i class="fa fa-microphone" id="btnMic" aria-hidden="true " style="color: #fff"></i>
            <i class="fa fa-window-close" id="btnPlug" aria-hidden="true" style="color: red;"></i>
        </div>
    </div>
</div>
<script th:src="@{/js/AgoraRTC_N-4.2.1.js}"></script>
<script th:src="@{/js/videoCall.js}"></script>
<script th:inline="javascript">
    var channel = /*[[${channel}]]*/ '';
    options.channel = channel;
    var receiver = /*[[${receiver}]]*/ '';
    startOneToOneVideoCall();
</script>
</body>
</div>
</html>
